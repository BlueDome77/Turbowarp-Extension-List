/*!
 * Copyright 2023 BunkerStriker
 * Contains code snippets generated by OpenAI's ChatGPT AI model
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function(Scratch) {
  'use strict';
  const menuIconURI = 'data:image/png;base64,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'
  const vm = Scratch.vm;
  class MiscExtension {
    getInfo() {
      return {
        id: 'miscextension',
        name: 'Misc Extension',
        color1: '#918ae6',
        color2: '#817acc',
        color3: '#6863a6',
        menuIconURI: menuIconURI,
        blocks: [
          {
            opcode: 'maxBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'max [ONE] [TWO]',
            arguments: {
              ONE: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: 1
              },
              TWO: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: 2
              }
            }
          },
          {
            opcode: 'minBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'min [ONE] [TWO]',
            arguments: {
              ONE: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: 1
              },
              TWO: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: 2
              }
            }
          },
          {
            opcode: 'addStringBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'add [ADDSTRING] to [OGSTRING] at [INDEX] buffer [BUFFER]',
            arguments: {
              ADDSTRING: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "apple"
              },
              OGSTRING: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "banana"
              },
              INDEX: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 2
              },
              BUFFER: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "#"
              }
            }
          },
          {
            opcode: 'removeBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'remove from [INDEXSTART] to [INDEXEND] in [TEXT]',
            arguments: {
              INDEXSTART: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 2
              },
              INDEXEND: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 3
              },
              TEXT: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "apple"
              }
            }
          },
          {
            opcode: 'replaceBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'replace [STRING] at [INDEX] in [TEXT] buffer [BUFFER]',
            arguments: {
              STRING: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "scratchers!"
              },
              INDEX: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 7
              },
              TEXT: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "Hello World!"
              },
              BUFFER: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "#"
              }
            }
          },
          {
            opcode: 'prngBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'PRNG [SEED1] [SEED2] [SEED3]',
            arguments: {
              SEED1: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: 123
              },
              SEED2: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "apple"
              },
              SEED3: {
                type: Scratch.ArgumentType.STRING,
                defaultValue: "thing"
              }
            }
          },
          {
            opcode: 'mapBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'map [NUMBER] from [INPUT_MIN] to [INPUT_MAX] -> [OUTPUT_MIN] [OUTPUT_MAX]',
            arguments: {
              NUMBER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 5
              },
              INPUT_MIN: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 0
              },
              INPUT_MAX: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 10
              },
              OUTPUT_MIN: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: -50
              },
              OUTPUT_MAX: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 50
              }
            }
          },
          {
            opcode: 'probabilityBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'probability to get [NUMBER] from [LOWER] to [UPPER] with [ATTEMPT] attempts',
            arguments: {
              NUMBER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 5
              },
              LOWER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 0
              },
              UPPER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 10
              },
              ATTEMPT: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 10
              }
            }
          },
          {
            opcode: 'gaussianBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'gaussian probability [N] mean: [MEAN] sd: [SD]',
            arguments: {
              N: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 3
              },
              MEAN: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 0
              },
              SD: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 1
              }
            }
          },
          {
            opcode: 'gaussianAreaBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'estimate gaussian area from [LOWER] to [UPPER] mean: [MEAN] sd: [SD] quality: [QUALITY]',
            arguments: {
              LOWER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: -1
              },
              UPPER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 1
              },
              MEAN: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 0
              },
              SD: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 1
              },
              QUALITY: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 1000
              },
            }
          },
          {
            opcode: 'clampBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'clamp [NUMBER] to [LOWER] & [UPPER]',
            arguments: {
              NUMBER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 3
              },
              LOWER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 5
              },
              UPPER: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: 10
              }
            }
          },
          {
            opcode: 'mathMenuBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '​ [MENU]',
            arguments: {
              MENU: {
                type: Scratch.ArgumentType.STRING,
                menu: 'MATHCONSTANTMENU'
              }
            }
          },
          {
            opcode: 'mathReporterBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '[NUM1] [MENU] [NUM2]',
            arguments: {
              NUM1: {
                type: Scratch.ArgumentType.NUMBER,
              },
              MENU: {
                type: Scratch.ArgumentType.STRING,
                menu: 'MATHREPORTERMENU'
              },
              NUM2: {
                type: Scratch.ArgumentType.NUMBER,
              }
            }
          },
          {
            opcode: 'ifElseBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'if [BOOL] then [NUM1] else [NUM2]',
            arguments: {
              BOOL: {
                type: Scratch.ArgumentType.BOOLEAN,
              },
              NUM1: {
                type: Scratch.ArgumentType.STRING,
              },
              NUM2: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'tripleJoinBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'join [NUM1] [NUM2] [NUM3]',
            arguments: {
              NUM1: {
                type: Scratch.ArgumentType.STRING,
              },
              NUM2: {
                type: Scratch.ArgumentType.STRING,
              },
              NUM3: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'boolBlock',
            blockType: Scratch.BlockType.BOOLEAN,
            text: '[INPUT]',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'reporterBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '[INPUT]',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'stringToBase64Block',
            blockType: Scratch.BlockType.REPORTER,
            text: '[INPUT] to base64',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'base64ToStringBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '[INPUT] from base64',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'binaryToStringBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '[INPUT] from binary',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'stringToBinaryBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: '[INPUT] to binary',
            arguments: {
              INPUT: {
                type: Scratch.ArgumentType.STRING,
              }
            }
          },
          {
            opcode: 'directionBlock',
            blockType: Scratch.BlockType.REPORTER,
            text: 'direction from [X] [Y] to [X2] [Y2]',
            arguments: {
              X: {
                type: Scratch.ArgumentType.NUMBER,
              },
              Y: {
                type: Scratch.ArgumentType.NUMBER,
              },
              X2: {
                type: Scratch.ArgumentType.NUMBER,
              },
              Y2: {
                type: Scratch.ArgumentType.NUMBER,
              },
            }
          },
        ],
        menus: {
          MATHCONSTANTMENU: {
            acceptReporters: true,
            items: ['true', 'false', '∞', '−∞', 'NaN', '𝜋', 'φ', 'e']
          },
          MATHREPORTERMENU: {
            acceptReporters: true,
            items: ['+', '-','*', '/', '^', '=', '≈', '≠', '<', '≤', '>', '≥']
          }
        }
      };
    }
    maxBlock(args) {
      var onevar = args.ONE;
      var twovar = args.TWO;
      if (typeof args.ONE === 'string') {
        onevar = args.ONE.length;
      }
      if (typeof args.TWO === 'string') {
        twovar = args.TWO.length;
      }
      if (onevar > twovar) {
        return args.ONE;
      } else {
        return args.TWO;
      }
    }
    minBlock(args) {
      var onevar = args.ONE;
      var twovar = args.TWO;
      if (typeof args.ONE === 'string') {
        onevar = args.ONE.length;
      }
      if (typeof args.TWO === 'string') {
        twovar = args.TWO.length;
      }
      if (onevar < twovar) {
        return args.ONE;
      } else {
        return args.TWO;
      }
    }
    addStringBlock(args) {
      if (args.INDEX > args.OGSTRING.length) {
        buffer = args.BUFFER.repeat(args.INDEX - args.OGSTRING.length)
        args.OGSTRING += buffer;
      } else if (args.INDEX < 0) {
        buffer = args.BUFFER.repeat(args.INDEX * -1)
        args.OGSTRING = buffer + args.OGSTRING;
        args.INDEX = 0;
      }
      return args.OGSTRING.substring(0, args.INDEX) + args.ADDSTRING + args.OGSTRING.substring(args.INDEX);
    }
    removeBlock(args) {
      if ((args.INDEXSTART - 1) < 0) {
        args.INDEXSTART = 0;
      }
      if ((args.INDEXEND - 1) >= args.TEXT.length) {
        args.INDEXEND = args.TEXT.length - 1;
      }
      if ((args.INDEXSTART - 1) > (args.INDEXEND - 1)) {
        return args.TEXT;
      }
      return args.TEXT.substring(0, (args.INDEXSTART - 1)) + args.TEXT.substring((args.INDEXEND - 1) + 1);
    }
    replaceBlock(args) {
      var index = Math.max(args.INDEX - 1, 0);
      if (index > args.TEXT.length) {
        index = args.TEXT.length;
      }
      return args.TEXT.substring(0, index) + args.BUFFER.repeat(Math.max((args.INDEX - 1 - args.TEXT.length), 0)) + args.STRING + args.BUFFER.repeat(Math.max(((args.INDEX - 1 + args.STRING.length) * -1), 0)) + args.TEXT.substring(args.INDEX - 1 + args.STRING.length);
    }
    prngBlock(args) {
      let seed1 = args.SEED1;
      let seed2 = args.SEED2;
      let seed3 = args.SEED3;
      const hash = (s) => {
        let h = 0;
        for (let i = 0; i < s.length; i++) {
          h = Math.imul(31, h) + s.charCodeAt(i) | 0;
        }
        return h;
      };
      let x = hash(seed1.toString()) ^ hash(seed2.toString()) ^ hash(seed3.toString());
      x ^= x << 13;
      x ^= x >> 17;
      x ^= x << 5;
      return (x >>> 0) / 0x100000000;
    }
    mapBlock(args) {
      if (args.NUMBER < args.INPUT_MIN || args.NUMBER > args.INPUT_MAX) {
        return null;
      }
      return (args.NUMBER - args.INPUT_MIN) / (args.INPUT_MAX - args.INPUT_MIN) * (args.OUTPUT_MAX - args.OUTPUT_MIN) + args.OUTPUT_MIN;
    }
    probabilityBlock(args) {
      return 1 - (((args.UPPER - args.LOWER) / (args.UPPER - args.LOWER + 1)) ** args.ATTEMPT);
    }
    gaussianBlock(args) {
      return Math.exp(-((args.N - args.MEAN) ** 2) / (2 * args.SD ** 2)) / (args.SD * Math.sqrt(2 * Math.PI));
    }
    clampBlock(args) {
      return Math.min(Math.max(args.NUMBER, args.LOWER), args.UPPER);
    }
    mathMenuBlock({MENU}) {
      switch (MENU) {
      case '∞': return Infinity;
      case '−∞': return -Infinity;
      case '𝜋': return Math.PI;
      case 'φ': return (1 + Math.sqrt(5)) / 2;
      case 'e': return Math.E;
      case '𝜋': return Math.PI;
      }
      return MENU;
    }
    mathReporterBlock({NUM1, MENU, NUM2}) {
      switch (MENU) {
      case '+': return NUM1 + NUM2;
      case '-': return NUM1 - NUM2;
      case '*': return NUM1 * NUM2;
      case '/': return NUM1 / NUM2;
      case '^': return NUM1 ** NUM2;
      case '=': return NUM1 = NUM2;
      case '≈': return Math.abs(NUM1 - NUM2) < 1;
      case '≠': return NUM1 !== NUM2;
      case '<': return NUM1 < NUM2;
      case '≤': return NUM1 <= NUM2;
      case '>': return NUM1 > NUM2;
      case '≥': return NUM1 >= NUM2;
      }
      return 0;
    }
    ifElseBlock({BOOL, NUM1, NUM2}) {
      if (BOOL) {
        return NUM1;
      } else {
        return NUM2;
      }
    }
    tripleJoinBlock({NUM1, NUM2, NUM3}) {
      return Scratch.Cast.toString(NUM1) + Scratch.Cast.toString(NUM2) + Scratch.Cast.toString(NUM3);
    }
    boolBlock({INPUT}) {
      return INPUT;
    }
    reporterBlock({INPUT}) {
      return INPUT;
    }
    stringToBase64Block({INPUT}) {
      return btoa(INPUT);
    }
    base64ToStringBlock({INPUT}) {
      return atob(INPUT);
    }
    stringToBinaryBlock({INPUT}) {
      if (!isNaN(INPUT)) {
        return Number(INPUT).toString(2);
      }
      return INPUT.split('').map((char) => char.charCodeAt(0).toString(2)).join(' ');
    }
    binaryToStringBlock({INPUT}) {
      if (!String(INPUT).includes(' ')) {
        return String(parseInt(String(INPUT), 2));
      }
      return String.fromCharCode.apply(null, (String(INPUT).split(' ').map((binary) => parseInt(binary, 2))));
    }
    directionBlock({X, Y, X2, Y2}) {
      return (((Math.atan2(X-X2, Y-Y2) * 180) / Math.PI)) % 360 - 180;
    }
  }
  Scratch.extensions.register(new MiscExtension());
})(Scratch);
